"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _mutations,_actions,_login=require("@/api/login"),_app=require("../../utils/app"),_mutationsTypes=require("../mutations-types");function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var state={token:"",username:(0,_app.getCookitWithUsername)()||""},getters={},mutations=(_defineProperty(_mutations={},_mutationsTypes.SET_COOKIE_WITH_TOKEN,function(t,e){t.token=e}),_defineProperty(_mutations,_mutationsTypes.SET_COOKIE_WITH_USERNAME,function(t,e){t.username=e}),_mutations),actions=(_defineProperty(_actions={},_mutationsTypes.LOGIN_ASYNC,function(t,o){var i=t.commit;return new Promise(function(e,n){(0,_login.InfoUser)(o).then(function(t){i(_mutationsTypes.SET_COOKIE_WITH_TOKEN,t.data.token),i(_mutationsTypes.SET_COOKIE_WITH_USERNAME,t.data.username),(0,_app.setCookitWithToken)(t.data.token),(0,_app.setCookitWithUsername)(t.data.username),e(t)}).catch(function(t){n(t)})})}),_defineProperty(_actions,_mutationsTypes.LOGOUT,function(t){var n=t.commit;return new Promise(function(t,e){(0,_app.removeCookitWithToken)(),(0,_app.removeCookitWithUsername)(),n(_mutationsTypes.SET_COOKIE_WITH_TOKEN,""),n(_mutationsTypes.SET_COOKIE_WITH_USERNAME,""),t()})}),_actions),_default={namespaced:!0,state:state,getters:getters,mutations:mutations,actions:actions};exports.default=_default;